let htmxJson=(()=>{function r(e,n,t={$parent:void 0,$index:void 0,$key:void 0}){var i;return e instanceof DocumentFragment?l(e,n,t):e instanceof Text?((i=w(e,"text",()=>p("`"+e.textContent+"`")))&&(e.textContent=i(n,t)),e):e instanceof HTMLTemplateElement?((e,i,r)=>{var n=y(e,"json-each");if(!n)return null;var o=w(e,"/json-each",h);if(!o)return e;let l=e.nextSibling,a=n(i,r),s=y(e,"json-key");if(!Array.isArray(a))throw new Error("for-each only works with arrays");for(let t=0;t<a.length;t++){var f=a[t],u=s?s(f,r):t.toString();if(l instanceof Comment&&l!==o){var p=l.data;if(p===u){var c=l.nextSibling;l.data=u,l=S(l)??o,$(c,l,f,{$parent:{...r,__proto__:i},$index:t,$key:u})}else{let n=!1;for(let e=t;!1===n&&e<a.length;e++)n=p===(s?s(a[e],r):e);if(n){c=S(l,u);if(c){for(var x=S(c)??o,m=(c.data=u,c.previousSibling);m?.nextSibling&&m.nextSibling!==x;)l.parentNode?.insertBefore(m.nextSibling,l);$(c,l,f,{$parent:{...r,__proto__:i},$index:t,$key:u})}else{var b=e.content.cloneNode(!0),d=document.createComment(u);e.parentNode?.insertBefore(d,l),e.parentNode?.insertBefore(b,l),$(d.nextSibling,l,f,{$parent:{...r,__proto__:i},$index:t,$key:u})}}else{for(var g=S(l)??o,v=l.previousSibling;v?.nextSibling&&v.nextSibling!==g;)v.nextSibling.remove();l=g,t--}}}else{if(l!==o)throw new Error("This should not have happened");b=e.content.cloneNode(!0),d=document.createComment(u);e.parentNode?.insertBefore(d,o),e.parentNode?.insertBefore(b,o),$(d.nextSibling,o,f,{$parent:{...r,__proto__:i},$index:t,$key:u})}}var t=l?.previousSibling;if(t)for(;t.nextSibling&&t.nextSibling!==o;)t.nextSibling.remove();return o})(e,n,t)??((e,n,t)=>{var i=y(e,"json-if");if(!i)return null;var r=w(e,"json-else",a),o=r??e,l=w(o,"/json-if",h);if(!l)return o;if(i(n,t)){if(!0!==f(e,"if")){for(u(e,"if",!0);o.nextSibling&&o.nextSibling!==l;)o.nextSibling.remove();e.parentNode?.insertBefore(e.content.cloneNode(!0),l)}$(o.nextSibling,l,n,t)}else if(r){if(!1!==f(e,"if")){for(u(e,"if",!1);o.nextSibling&&o.nextSibling!==l;)o.nextSibling.remove();r.parentNode?.insertBefore(r.content.cloneNode(!0),l)}$(o.nextSibling,l,n,t)}else if(!1!==f(e,"if"))for(u(e,"if",!1);o.nextSibling&&o.nextSibling!==l;)o.nextSibling.remove();return l})(e,n,t)??e:!(e instanceof HTMLElement)||(w(e,"attributes",o).forEach(e=>e(n,t)),e.hasAttribute("json-ignore"))?e:(i=y(e,"json-with"))?l(e,i(n,t),{$parent:{...t,__proto__:n},$index:void 0,$key:void 0}):l(e,n,t)}function o(r){var e,o=[];for(let n of r.attributes)if(n.name.startsWith("@")){let t=n.name.substring(1),i=p(n.value);i&&o.push((e,n)=>{e=i(e,n);null===e?r.removeAttribute(t):r.setAttribute(t,e)})}else if(n.name.startsWith(".")){let i=p(n.value);if(i){e=n.name,e=e.split(".").map(e=>e&&e.split("-").map(([e,...n],t)=>(0===t?e:e.toUpperCase())+n.join("")).join("")).join(".");let t=new Function("obj","value",`obj${e} = value;`);o.push((e,n)=>t(r,i(e,n)))}}else{if("json-ignore"===n.name)break;if("json-text"===n.name){let t=p(n.value);t&&o.push((e,n)=>{r.textContent=t(e,n)})}else if("json-show"===n.name){let t=p(n.value);t&&o.push((e,n)=>{r.style.display=t(e,n)?"":"none"})}else if("json-hide"===n.name){let t=p(n.value);t&&o.push((e,n)=>{r.style.display=t(e,n)?"none":""})}else"name"===n.name&&r instanceof HTMLInputElement&&("checkbox"===r.type?o.push(e=>{n.value in e&&(r.checked=e[n.value])}):"radio"===r.type?o.push(e=>{n.value in e&&(r.checked=e[n.value]===r.value)}):o.push(e=>{n.value in e&&(r.value=e[n.value])}))}return o}function h(e,n){return S(e,n)??e.parentNode?.insertBefore(document.createComment(n),e.nextSibling)}function a(e,n){return e.nextElementSibling instanceof HTMLTemplateElement&&e.nextElementSibling.hasAttribute(n)?e.nextElementSibling:void 0}function S(e,n){let t=0;for(;e;)if((e=e.nextSibling)instanceof Comment)if(0===t){if(void 0===n||e.data===n)return e}else t--;else e instanceof HTMLTemplateElement&&t++;return null}function $(e,n,t,i){for(;e&&e!==n;)e=r(e,t,i).nextSibling}function l(e,n,t){let i=e.firstChild;for(;i;)i=r(i,n,t).nextSibling;return e}function y(e,n){return w(e,"getter-"+n,()=>p(e.getAttribute(n)))}"undefined"!=typeof htmx&&htmx.defineExtension("json-swap",{isInlineSwap:function(e){return"json"===e},handleSwap:function(e,n,t){if("json"===e)return r(n,JSON.parse(t.textContent)),[n]}});let s=Symbol();function f(e,n){return(e[s]??=new Map).get(n)}function u(e,n,t){(e[s]??=new Map).set(n,t)}function w(e,n,t){var i=e[s]??=new Map;let r=i.get(n);return void 0===r&&(r=t(e,n),i.set(n,r)),r}function p(e){return e?new Function("$this","{$parent, $index, $key}",`
        try {
          with ($this){
            return (${e});
          }
        }catch(e){
          if(e instanceof ReferenceError){
            throw new ReferenceError(e.message + ' in '+JSON.stringify($this, null, 2));
          }
          throw e;
        }
      `):null}return{swap:r}})();