let htmxJson=(()=>{function v(e,n,t,i){return{$this:e,$parent:n&&{...n,__proto__:n.$this},$index:t,$key:i}}function a(i,e,n){if(i instanceof Text)return(o=$(i,"text",t))?(i.textContent=o(e),i):null;if(i instanceof HTMLTemplateElement)return((n,t,e)=>{var i=w(n,"json-each");if(!i)return null;var r=$(n,"/json-each",d,e);if(!r)return n;let o=n.nextSibling,l=((e,n,t)=>{let i=e(n),r=w(t,"json-key");return i?Array.isArray(i)?new Map(i.map((e,n)=>[r?r(v(e)):n.toString(),e])):(r&&console.warn("json-key is not used when json-each is an object"),new Map(Object.entries(i).map(([e,n])=>(0<=Number(e)&&console.warn("Objects with integer keys will be iterated over in unexpected order!"),[e,n])))):new Map})(i,t,n),a=Array.from(l.entries());for(let e=0;e<a.length;e++){var[s,u]=a[e];if(o instanceof Comment&&o!==r){var f=o.data;if(f===s){var c=o.nextSibling;o.data=s,o=S(o)??r,j(c,o,v(u,t,e,s))}else if(l.has(f)){c=S(o,s);if(c){for(var b=S(c)??r,h=(c.data=s,c.previousSibling);h?.nextSibling&&h.nextSibling!==b;)o.parentNode?.insertBefore(h.nextSibling,o);j(c,o,v(u,t,e,s))}else{var f=n.content.cloneNode(!0),p=document.createComment(s);n.parentNode?.insertBefore(p,o),n.parentNode?.insertBefore(f,o),j(p.nextSibling,o,v(u,t,e,s))}}else{for(var m=S(o)??r,g=o.previousSibling;g?.nextSibling&&g.nextSibling!==m;)g.nextSibling.remove();o=m,e--}}else{if(o!==r)throw new Error("This should not have happened");f=n.content.cloneNode(!0),p=document.createComment(s);n.parentNode?.insertBefore(p,r),n.parentNode?.insertBefore(f,r),j(p.nextSibling,r,v(u,t,e,s))}}var x=o?.previousSibling;if(x)for(;x.nextSibling&&x.nextSibling!==r;)x.nextSibling.remove();return r})(i,e,n)??((e,n,t)=>{var i=w(e,"json-if");if(!i)return null;var r=$(e,"json-else",u),o=r??e,l=$(o,"/json-if",d,t);if(!l)return o;if(i(n)){if(!0!==f(e,"if")){for(c(e,"if",!0);o.nextSibling&&o.nextSibling!==l;)o.nextSibling.remove();e.parentNode?.insertBefore(e.content.cloneNode(!0),l)}j(o.nextSibling,l,n)}else if(r){if(!1!==f(e,"if")){for(c(e,"if",!1);o.nextSibling&&o.nextSibling!==l;)o.nextSibling.remove();r.parentNode?.insertBefore(r.content.cloneNode(!0),l)}j(o.nextSibling,l,n)}else if(!1!==f(e,"if"))for(c(e,"if",!1);o.nextSibling&&o.nextSibling!==l;)o.nextSibling.remove();return l})(i,e,n)??i;if(i instanceof HTMLElement){let t=e;var r,o=$(i,"attributes",s);for(r of o){if(!t)break;t=r(t)}if(t){let e=!0,n=i.firstChild;for(;n;){var l=a(n,t);e&&=null===l,n=(l??n).nextSibling}return e&&0===o.length?(c(i,"attributes",[()=>!1]),null):i}return 1===o.length?null:i}return i}function t(e){return e.textContent?.includes("${")?b("`"+e.textContent+"`"):null}function s(o){var e,l=[];for(let r of o.attributes)if(r.name.startsWith("@")){let t=r.name.substring(1),i=b(r.value);i&&l.push(e=>{var n=i(e);return null===n?o.removeAttribute(t):o.setAttribute(t,n),e})}else if(r.name.startsWith(".")){let t=b(r.value);if(t){e=r.name,e=e.split(".").map(e=>e&&e.split("-").map(([e,...n],t)=>(0===t?e:e.toUpperCase())+n.join("")).join("")).join(".");let n=new Function("obj","value",`obj${e} = value;`);l.push(e=>(n(o,t(e)),e))}}else{if("json-ignore"===r.name){l.push(e=>!1);break}if("json-with"===r.name){let n=b(r.value);n&&l.push(e=>v(n(e),e))}else if("json-text"===r.name){let n=b(r.value);n&&l.push(e=>(o.textContent=n(e),e))}else if("json-show"===r.name){let n=b(r.value);n&&l.push(e=>(o.style.display=n(e)?"":"none",e))}else if("json-hide"===r.name){let n=b(r.value);n&&l.push(e=>(o.style.display=n(e)?"none":"",e))}else"name"===r.name&&o instanceof HTMLInputElement&&("checkbox"===o.type?l.push(e=>(r.value in e.$this&&(o.checked=e.$this[r.value]),e)):"radio"===o.type?l.push(e=>(r.value in e.$this&&(o.checked=e.$this[r.value]===o.value),e)):l.push(e=>(r.value in e.$this&&(o.value=e.$this[r.value]),e)))}return l}function d(e,n,t){return S(e,n,t)??e.parentNode?.insertBefore(document.createComment(n),e.nextSibling)}function u(e,n){return e.nextElementSibling instanceof HTMLTemplateElement&&e.nextElementSibling.hasAttribute(n)?e.nextElementSibling:void 0}function S(e,n,t){let i=0,r=0;for(e=e?.nextSibling??null;e&&e!==t;){if(e instanceof Comment){if(0<i&&"/json-if"===e.data)i--;else if(0<r&&"/json-each"===e.data)r--;else if(0===i&&0===r&&(void 0===n||e.data===n))return e}else if(e instanceof HTMLTemplateElement)for(var{name:o}of e.attributes)"json-if"===o?i++:"json-each"===o&&r++;e=e.nextSibling}return null}function j(e,n,t){for(;e&&e!==n;)e=(a(e,t,n)??e).nextSibling}function w(e,n){return $(e,"getter-"+n,()=>b(e.getAttribute(n)))}"undefined"!=typeof htmx&&htmx.defineExtension("json-swap",{isInlineSwap:function(e){return"json"===e},handleSwap:function(e,n,t){if("json"===e)return a(n,v(JSON.parse(t.textContent))),[n]}});let l=Symbol();function f(e,n){return(e[l]??=new Map).get(n)}function c(e,n,t){(e[l]??=new Map).set(n,t)}function $(e,n,t,...i){var r=e[l]??=new Map;let o=r.get(n);return void 0===o&&(o=t(e,n,...i),r.set(n,o)),o}function b(e){return e?new Function("{$this, $parent, $index, $key}",`
        try {
          with ($this){
            return (${e});
          }
        }catch(e){
          if(e instanceof ReferenceError){
            throw new ReferenceError(e.message + ' in '+JSON.stringify($this, null, 2));
          }
          throw e;
        }
      `):null}return{swap(e,n){a(e,v(n))}}})();