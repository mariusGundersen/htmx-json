let htmxJson=(()=>{function x(e,n,t,i){return{$this:e,$parent:n&&{...n,__proto__:n.$this},$index:t,$key:i}}function l(i,e){if(i instanceof Text)return(r=j(i,"text",t))?(i.textContent=r(e),i):null;if(i instanceof HTMLTemplateElement)return((n,t)=>{var e=w(n,"json-each");if(!e)return null;var i=j(n,"/json-each",v);if(!i)return n;let r=n.nextSibling,o=((e,n,t)=>{let i=e(n),r=w(t,"json-key");return i?Array.isArray(i)?new Map(i.map((e,n)=>[r?r(x(e)):n.toString(),e])):(r&&console.warn("json-key is not used when json-each is an object"),new Map(Object.entries(i).map(([e,n])=>(0<=Number(e)&&console.warn("Objects with integer keys will be iterated over in unexpected order!"),[e,n])))):new Map})(e,t,n),l=Array.from(o.entries());for(let e=0;e<l.length;e++){var[a,s]=l[e];if(r instanceof Comment&&r!==i){var u=r.data;if(u===a){var f=r.nextSibling;r.data=a,r=d(r)??i,S(f,r,x(s,t,e,a))}else if(o.has(u)){f=d(r,a);if(f){for(var c=d(f)??i,p=(f.data=a,f.previousSibling);p?.nextSibling&&p.nextSibling!==c;)r.parentNode?.insertBefore(p.nextSibling,r);S(f,r,x(s,t,e,a))}else{var u=n.content.cloneNode(!0),b=document.createComment(a);n.parentNode?.insertBefore(b,r),n.parentNode?.insertBefore(u,r),S(b.nextSibling,r,x(s,t,e,a))}}else{for(var h=d(r)??i,m=r.previousSibling;m?.nextSibling&&m.nextSibling!==h;)m.nextSibling.remove();r=h,e--}}else{if(r!==i)throw new Error("This should not have happened");u=n.content.cloneNode(!0),b=document.createComment(a);n.parentNode?.insertBefore(b,i),n.parentNode?.insertBefore(u,i),S(b.nextSibling,i,x(s,t,e,a))}}var g=r?.previousSibling;if(g)for(;g.nextSibling&&g.nextSibling!==i;)g.nextSibling.remove();return i})(i,e)??((e,n)=>{var t=w(e,"json-if");if(!t)return null;var i=j(e,"json-else",s),r=i??e,o=j(r,"/json-if",v);if(!o)return r;if(t(n)){if(!0!==u(e,"if")){for(f(e,"if",!0);r.nextSibling&&r.nextSibling!==o;)r.nextSibling.remove();e.parentNode?.insertBefore(e.content.cloneNode(!0),o)}S(r.nextSibling,o,n)}else if(i){if(!1!==u(e,"if")){for(f(e,"if",!1);r.nextSibling&&r.nextSibling!==o;)r.nextSibling.remove();i.parentNode?.insertBefore(i.content.cloneNode(!0),o)}S(r.nextSibling,o,n)}else if(!1!==u(e,"if"))for(f(e,"if",!1);r.nextSibling&&r.nextSibling!==o;)r.nextSibling.remove();return o})(i,e)??i;if(i instanceof HTMLElement){let t=e;var n,r=j(i,"attributes",a);for(n of r){if(!t)break;t=n(t)}if(t){let e=!0,n=i.firstChild;for(;n;){var o=l(n,t);e&&=null===o,n=(o??n).nextSibling}return e&&0===r.length?(f(i,"attributes",[()=>!1]),null):i}return 1===r.length?null:i}return i}function t(e){return e.textContent?.includes("${")?c("`"+e.textContent+"`"):null}function a(o){var e,l=[];for(let r of o.attributes)if(r.name.startsWith("@")){let t=r.name.substring(1),i=c(r.value);i&&l.push(e=>{var n=i(e);return null===n?o.removeAttribute(t):o.setAttribute(t,n),e})}else if(r.name.startsWith(".")){let t=c(r.value);if(t){e=r.name,e=e.split(".").map(e=>e&&e.split("-").map(([e,...n],t)=>(0===t?e:e.toUpperCase())+n.join("")).join("")).join(".");let n=new Function("obj","value",`obj${e} = value;`);l.push(e=>(n(o,t(e)),e))}}else{if("json-ignore"===r.name){l.push(e=>!1);break}if("json-with"===r.name){let n=c(r.value);n&&l.push(e=>x(n(e),e))}else if("json-text"===r.name){let n=c(r.value);n&&l.push(e=>(o.textContent=n(e),e))}else if("json-show"===r.name){let n=c(r.value);n&&l.push(e=>(o.style.display=n(e)?"":"none",e))}else if("json-hide"===r.name){let n=c(r.value);n&&l.push(e=>(o.style.display=n(e)?"none":"",e))}else"name"===r.name&&o instanceof HTMLInputElement&&("checkbox"===o.type?l.push(e=>(r.value in e.$this&&(o.checked=e.$this[r.value]),e)):"radio"===o.type?l.push(e=>(r.value in e.$this&&(o.checked=e.$this[r.value]===o.value),e)):l.push(e=>(r.value in e.$this&&(o.value=e.$this[r.value]),e)))}return l}function v(e,n){return d(e,n)??e.parentNode?.insertBefore(document.createComment(n),e.nextSibling)}function s(e,n){return e.nextElementSibling instanceof HTMLTemplateElement&&e.nextElementSibling.hasAttribute(n)?e.nextElementSibling:void 0}function d(e,n){let t=0;for(;e;)if((e=e.nextSibling)instanceof Comment)if(0===t){if(void 0===n||e.data===n)return e}else t--;else e instanceof HTMLTemplateElement&&t++;return null}function S(e,n,t){for(;e&&e!==n;)e=(l(e,t)??e).nextSibling}function w(e,n){return j(e,"getter-"+n,()=>c(e.getAttribute(n)))}"undefined"!=typeof htmx&&htmx.defineExtension("json-swap",{isInlineSwap:function(e){return"json"===e},handleSwap:function(e,n,t){if("json"===e)return l(n,x(JSON.parse(t.textContent))),[n]}});let o=Symbol();function u(e,n){return(e[o]??=new Map).get(n)}function f(e,n,t){(e[o]??=new Map).set(n,t)}function j(e,n,t){var i=e[o]??=new Map;let r=i.get(n);return void 0===r&&(r=t(e,n),i.set(n,r)),r}function c(e){return e?new Function("{$this, $parent, $index, $key}",`
        try {
          with ($this){
            return (${e});
          }
        }catch(e){
          if(e instanceof ReferenceError){
            throw new ReferenceError(e.message + ' in '+JSON.stringify($this, null, 2));
          }
          throw e;
        }
      `):null}return{swap(e,n){l(e,x(n))}}})();